<!--view for driver verifications home-->
<div class="container"><div class="row"></div> </div>
<div ng-if="pageChanger.verifyDriver.home == true" ng-controller="DriverVerificationController">

    <!-- form for verification of driver -->
    <div class="container">
        <div class="">
            <div class="row">
                <form class="col s12 ng-valid ng-dirty" ng-submit="verifyDriver()" style=" ">

                    <div class="row">
                        <div class="input-field col s12">
                            <input id="driver_licence_number" ng-model="data.driverLicenceNumber" type="text" class="validate">
                            <label for="driver_licence_number" >Driver Licence Number</label>
                        </div>
                    </div>

                    <div class="row">
                        <button type="submit" class="mdi-action-perm-identity col s12 waves-effect waves-light btn-large blue">
                            Verify Driver
                        </button>
                    </div>
                </form>
            </div>

            <!-- for results form verification of drivers -->
            <div class="row" ng-if="!configuration.loadingData">
                <!-- display driver information -->
                <div ng-if = "verificationData.Driver.driverData">
                    <h5 align="center">Driver Information</h5>

                    <div class="col s12" ng-if = "driverPhotoUrl" style="text-align: center;margin-bottom: 15px">
                        <img ng-src="{{driverPhotoUrl}}" width="50%">
                    </div>

                    <div ng-if="!moreInformationStatus ">
                        <div ng-repeat="(key,value) in verificationData.Driver.driver">

                            <div ng-if = "key == 'Full Name' || key == 'Gender' || key == 'TIN Number' || key == 'Driving Class Name' || key == 'Phone Number' ">
                                <div class = "col s12">
                                <span class = "flow-text">
                                    {{ key }} <br>
                                    <span class="blue-text text-darken-2 "> {{ verificationData.Driver.driver[key] }}</span>
                                </span>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div ng-if="moreInformationStatus">
                        <div ng-repeat="(key,value) in verificationData.Driver.driver">

                            <div ng-if = "!(key == 'id' || key == 'Driver Photo' || key == 'Current License Expiry Date')">
                                <div class = "col s12">
                                <span class = "flow-text">
                                    {{ key }} <br>
                                    <span class="blue-text text-darken-2 "> {{ verificationData.Driver.driver[key] }}</span>
                                </span>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="col s12" style="margin-top: 15px;">
                        <button class="btn waves-effect waves-light blue" ng-click="moreInformationStatus = !moreInformationStatus">
                            <span ng-if = "!moreInformationStatus">View More</span>
                            <span ng-if = "moreInformationStatus">Hide More</span>
                        </button>
                    </div>

                    <div class="col s12" style="margin-top: 20px;" >
                        <div ng-if = "verificationData.Driver.accidentData">
                            Number of accidents : {{ verificationData.Driver.accidentData.length }}<br>
                        </div>
                        <div ng-if="verificationData.Driver.offenceData">
                            Number of offenses : {{ verificationData.Driver.offenceData.length  }}
                        </div>
                    </div>

                    <!-- accident history -->
                    <div  ng-if="verificationData.Driver.accidentData">
                        <div class = "center">
                            <h5>Accident history</h5>
                        </div>
                        <div class="card-panel" ng-repeat="data in  verificationData.Driver.accidentData">
                            <div  class = "row">
                                <span class="col s12">Vehicle Used </span>
                                <span class="col s12 blue-text text-darken-2">{{data['Vehicle Plate Number/Registration Number']}}</span>
                                <span class="col s12">Area of Accident </span>
                                <span class="col s12 blue-text text-darken-2">{{data.Accident['Area of Accident']}}</span>
                                <span class="col s12">Date &amp; Time of Accident </span>
                                <span class="col s12 blue-text text-darken-2">{{data.Accident['Time of Accident']}}</span>
                                <button class="btn blue waves-effect waves-light">View more</button>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>

    </div>
</div>

